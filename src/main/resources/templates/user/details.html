<main>
    <header>
        <h2 th:text="${user.username}"></h2>
        <h2 th:text="${user.firstName}"></h2>
        <h2 th:text="${user.lastName}"></h2>
        <img th:attr="src=@{${user.picURI}}">
        <div th:each="extension : ${user.extensions}" class="myExtension">
            <a th:href="@{/extension/{id}(id=${extension.id})}">
                <div class="mdl-card mdl-shadow--2dp">
                    <div class="mdl-background-image" th:style="'height: 285px;background-position: center center;background-size: cover; background-image: url(\''+  @{${extension.picURI}} + '\');'"></div>
                    <div class="mdl-card__title mdl-card--border">
                        <h2 class="mdl-card__title-text" th:text="${extension.name}"></h2>
                    </div>
                    <div class="mdl-card__title">
                    <span class="mdl-chip mdl-chip--contact" th:style="${extension.publisher.isBanned()} ? 'background-color:rgba(255, 0, 0 , 0.5)' : 'background-colir: #dedede'" >
                        <img th:attr="src=@{${extension.publisher.picURI}}" class="mdl-chip__contact">
                <span class="mdl-chip__text" th:text="${extension.publisher.username}"></span>
            </span>
                        <div class="mdl-layout-spacer"></div>
                        <span th:text="${extension.downloads}"></span>
                    </div>
                </div>
            </a>
        </div>

        <div id="ban">
            <form th:action="@{/admin/unban/{id} (id=${user.id})}" method="POST">
                <th:block th:if="${user.isBanned()}">
                    <button sec:authorize="hasRole('ADMIN')">Unban</button>
                </th:block>
            </form>

            <form th:action="@{/admin/ban/{id} (id=${user.id})}" method="POST">
                <th:block th:if="${!user.isBanned()}">
                    <button sec:authorize="hasRole('ADMIN')">Ban</button>
                </th:block>
            </form>
        </div>
        <div id="assignAdmin">
            <form th:action="@{/owner/assignAdmin/{id} (id=${user.id})}" method="POST">
                <th:block th:if="${!user.isAdmin()}">
                    <button sec:authorize="hasRole('OWNER')">Make Admin</button>
                </th:block>
            </form>

            <form th:action="@{/owner/removeAdmin/{id} (id=${user.id})}" method="POST">
                <th:block th:if="${user.isAdmin()}">
                    <button sec:authorize="hasRole('OWNER')">U no longer admin boi</button>
                </th:block>
            </form>
        </div>
    </header>
</main>